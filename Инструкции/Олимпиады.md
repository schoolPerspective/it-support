# Подготовка компьютера к проведению ВСОШ
## Информатика
**Метки:** Информатика, Олимпиады, Настройка ПК, Настройка ОС, Ограничение сети, nftables

> [!WARNING]
> Запускать скрипт необходимо из терминала под пользователем имеющим полномочия sudo: `sudo ./olimpSetup.sh`, при запуске через ПКМ->Запустить в Konsole в процессе установке пакетов при медленном интернете выйдет срок разрешения на запуск sudo команд и выполнение дальнейших инструкций будет сломано.
  
Для подготовки компьютеров к проведению ВСОШ по информатике был реализован [скрипт](</Скрипты/olimpSetup.sh>), позволяющий осуществить автоматизированную установку ПО, создать нового пользователя специально для олимпиады, создать ему ярлыки требуемого ПО на рабочем столе.
Скрипт прописывает рекомендованные ограничения для nftables на основе [инструкции](<https://it-help-school.ru/%D0%91%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%D0%B0_%D0%BF%D1%80%D0%B8_%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B8_%D0%92%D1%81%D0%9E%D0%A8_%D0%B2_%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B5#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%9C%D0%9E%D0%A1-12>), но не применяет их, так как подразумевается, что в компьютерном классе еще могут проходить занятия до дня олимпиады.  
  
[Версия скрипта](</Скрипты/olimpSetupYaDisk.sh>) с реализацией загрузки дополнений VSCode с Яндекс.Диска   
  

Для активации работы блокировки требуется воспользоваться командой:  
  
```
sudo systemctl enable --now nftables
```
 
Для отключения блокировки:  
```
sudo systemctl disable --now nftables
```

Либо использовать синонимы, определяемые с помощью скрипта, они доступны из учетной записи администратора, от имени которого был запущен скрипт.

Для включения фильтрации интернет источников:
```
фильтр_вкл
```
Для отключения:
```
фильтр_откл
```


> [!NOTE]
> Заметка по развитию скрипта: пытался внедрить загрузку дополнений на VSCode с помощью архива с GitHub,
> практические испытания показали что это не дает прибавку в скорости загрузки, даже с интернетом в 500 мб/с
> загрузка осуществлялась со скоростью 3 мб/c. Тем не менее вариант такой загрузки:
```
sudo wget -O /home/$username/vs-code-addons.tar.gz https://github.com/schoolPerspective/it-support/raw/refs/heads/main/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/vs-code-addons.tar.gz
sudo tar -C /home/$username/ -xvzf /home/$username/vs-code-addons.tar.gz
sudo rm -r /home/$username/vs-code-addons.tar.gz
```
Вставить после строки `echo -e "\033[33m Установка расширений VS-Code для пользователя $username \n\033[37m"` и закоментировать все строки до `# Настройка ограничений в сети`
